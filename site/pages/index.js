import Head from 'next/head'
import { useContext, useEffect } from 'react';
import SendMessage from "../components/SendMessage";
import Loader from '../components/UI/Loader';
import ModalError from '../components/UI/ModalError';
import { MainContext } from '../context/MainContext';

export default function Home() {
  const {currentAccount, errorModal, setErrorModal} = useContext(MainContext);

  const closeErrorModal = () => {
    setErrorModal();
  }

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div className="text-white">
                <h1 className="md:text-6xl text-2xl">Decentralise Messages</h1>
                <h1 className="md:text-2xl text-xl">Send now your message in safely</h1>
                <div className="text-center pt-5">
                  
                {currentAccount &&<SendMessage></SendMessage>}
                <ModalError error={errorModal} closeModal={closeErrorModal}></ModalError>
                </div>
            </div>

    </>
  )
}
